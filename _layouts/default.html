<!doctype html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width">
    <!-- https://metatags.io -->
    <!-- Primary Meta Tags -->
    <title>{{site.name}} | {{page.title}}</title>
    <meta name="title" content="{{ site.name }} | {{ page.title }}">
    <meta name="description" content="{{ page.description | truncate: 150 }}">
  
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ site.url }}{{ page.url }}">
    <meta property="og:title" content="{{ site.name }} | {{ page.title }}">
    <meta property="og:description" content="{{ page.description | truncate: 150 }}">
    <meta property="og:image" content="{{ site.url }}/assets/images/preview.jpg">
  
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ site.url }}{{ page.url }}">
    <meta property="twitter:title" content="{{ site.name }} | {{ page.title }}">
    <meta property="twitter:description" content="{{ page.description | truncate: 150 }}">
    <meta property="twitter:image" content="{{ site.url }}/assets/images/preview.jpg">

    {% capture styles %}
    {% include main.scss %}
    {% endcapture %}
    <style>
    {{ styles | scssify }}
    </style>

    {% for stylesheet in page.inline_styles %}
      {% capture styles %}
      {% include {{ stylesheet }} %}
      {% endcapture %}
      <style>
      {{ styles | scssify }}
      </style>
    {% endfor %}

    {% for stylesheet in page.linked_styles %}
    <link rel="preload" href="/assets/css/{{stylesheet}}" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/assets/css/{{stylesheet}}"></noscript>
    {% endfor %}

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <script type="text/javascript">
      document.onreadystatechange = (e) => {
      if (window.localStorage.getItem('prefers-color-scheme') == 'dark') {
        document.body.classList.add('darkmode');
      } else if (window.localStorage.getItem('prefers-color-scheme') == 'light') {
        document.body.classList.add('lightmode');
      }
    }
    </script>
  </head>

  <body>
    <div id="nav-wrapper">
      <nav class="navigation-bar">
        <div class="nav-group">
          <svg id="logo" viewbox="0 0 400 480">
            <polygon points="0,480 0,0 100,0 100,203.795 269.829,0 400,0 200,240 400,480 269.829,480 135.982,316.822 0,480" />
          </svg>
        
          <a id="nav-name" href="/">Kirpal Demian</a>
        </div>
        <ul id="nav-items">
          {% unless page.url == "/" %}
          <li><a href="/">Home</a></li>
          {% endunless %}
          {% unless page.title == "Reading" %}
          <li><a href="/reading">Reading</a></li>
          {% endunless %}
          {% if site.github_username %}
          <li><a href="https://github.com/{{site.github_username}}" target="_BLANK" rel="noopener">GitHub</a></li>
          {% endif %}
          <li><a href="/#contact">Contact</a></li>
          <li>
            <button id="theme-switch" title="Toggle dark mode">
              <svg viewBox="0 0 80 40" fill="none" xmlns="http://www.w3.org/2000/svg" style="opacity: var(--show-light);">
                <rect width="80" height="40" rx="20" fill="#1A1A20"/>
                <path d="M68.9618 20.79C68.8045 22.4922 68.1657 24.1144 67.1201 25.4668C66.0744 26.8192 64.6653 27.8458 63.0575 28.4265C61.4497 29.0073 59.7098 29.1181 58.0413 28.7461C56.3728 28.3741 54.8448 27.5345 53.636 26.3258C52.4273 25.117 51.5878 23.589 51.2157 21.9205C50.8437 20.252 50.9545 18.5121 51.5353 16.9043C52.116 15.2965 53.1426 13.8874 54.495 12.8418C55.8474 11.7961 57.4696 11.1573 59.1718 11C58.1752 12.3483 57.6957 14.0094 57.8203 15.6814C57.945 17.3534 58.6657 18.9251 59.8512 20.1106C61.0368 21.2961 62.6084 22.0168 64.2804 22.1415C65.9524 22.2662 67.6135 21.7866 68.9618 20.79Z" fill="#FAFAFF" stroke="#FAFAFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="20" cy="20" r="12" fill="#FAFAFF"/>
              </svg>
              <svg width="80" height="40" viewBox="0 0 80 40" fill="none" xmlns="http://www.w3.org/2000/svg" style="opacity: var(--show-dark);">
                <rect width="80" height="40" rx="20" fill="#FAFAFF"/>
                <path d="M20 25C22.7614 25 25 22.7614 25 20C25 17.2386 22.7614 15 20 15C17.2386 15 15 17.2386 15 20C15 22.7614 17.2386 25 20 25Z" fill="#1A1A20" stroke="#1A1A20" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M20 9V11" stroke="#1A1A20" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M20 29V31" stroke="#1A1A20" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12.22 12.22L13.64 13.64" stroke="#1A1A20" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M26.36 26.36L27.78 27.78" stroke="#1A1A20" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M9 20H11" stroke="#1A1A20" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M29 20H31" stroke="#1A1A20" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12.22 27.78L13.64 26.36" stroke="#1A1A20" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M26.36 13.64L27.78 12.22" stroke="#1A1A20" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="60" cy="20" r="12" fill="#1A1A20"/>
              </svg>
            </button>
          </li>
        </ul>
      </nav>
    </div>

    <main>
      {{ content }}
    </main>
  </body>
  <script src="/assets/js/darkmode.js" type="text/javascript" defer></script>
</html>
